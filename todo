server loop into a function
implement pthreads for concurrency
handle all types of requests
